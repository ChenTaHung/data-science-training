# Visualizing data {#viz}

```{r viz ops, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(htmltools)
```

**In development.** 

## Objectives & Resources

#### Objectives

- install our first package, `ggplot2`, by installing `tidyverse`
- learn ggplot2 with `mpg` dataframe (important to play with other data than your own, you'll learn something.)
- practice writing a script (maybe call it mpg_viz.R?)
- practice rstudio-github workflow
- use and credit http://r4ds.had.co.nz/data-visualisation.html

Why do we start with data viz? Not only is data viz a big part of analysis, it’s a way to SEE your progress as you learn to code.
"ggplot2 implements the grammar of graphics, a coherent system for describing and building graphs. With ggplot2, you can do more faster by learning one system and applying it in many places." - [R4DS](http://r4ds.had.co.nz/data-visualisation.html)

- Conceptual and building, cheatsheet images

- http://r4ds.had.co.nz/data-visualisation.html
- https://pdfs.semanticscholar.org/d779/6f85dabccd18673f382c100fc06f55e8b501.pdf

#### Resources

Here are some resources that helped make this tutorial: 
- [R for Data Science](http://r4ds.had.co.nz/data-visualisation.html)
- [ggplot2-cheatsheet-2.0.pdf](../cheatsheets/ggplot2-cheatsheet-2.0.pdf)
- [Interactive Plots and Maps - Environmental Informatics](http://ucsb-bren.github.io/env-info/wk06_widgets.html)
- [Graphs with ggplot2 - Cookbook for R](http://www.cookbook-r.com/Graphs/#graphs-with-ggplot2)
- [ggplot2 Essentials - STHDA](http://www.sthda.com/english/wiki/ggplot2-essentials)

D Robinson:
- http://varianceexplained.org/r/why-I-use-ggplot2/; add screenshot of ggplot2 cheatsheet
- http://varianceexplained.org/RData/


## Install our first package: `tidyverse`

<!--- use the `swc-mbari.R script that we created in the previous section, or create a new script --->

Packages are bundles of functions, along with help pages and other goodies that make them easier for others to use, (ie. vignettes). 

So far we've been using packages included in 'base R'; they are 'out-of-the-box' functions. You can also install packages from online created by the vast and growing R user community. The most traditional place to download packages is from [CRAN, the Comprehensive R Archive Network](https://cran.r-project.org/). This is where you went to download R originally, and will go again to look for updates. You can also install packages directly from GitHub, which we'll do tomorrow.

You don't need to go to CRAN's website to install packages, we can do it from within R with the command `install.packages("package-name-in-quotes")`.

We are going to be using the package `ggplot2`, which is actually bundled into a huge package called `tidyverse`. We will install `tidyverse` now, and use a few functions from the packages within. Also, check out [tidyverse.org/](https://www.tidyverse.org).

```{r, eval=FALSE, messages=FALSE}
## from CRAN:
install.packages("tidyverse") ## do this once only to install the package on your computer.
```

```{r}
library(tidyverse) ## do this every time you restart R and need it 
```

When you do this, it will tell you which packages are inside of `tidyverse` that have also been installed. Note that there are a few name conflicts; it is alerting you that we'll be using two functions from dplyr instead of the built-in stats package.

What's the difference between `install.packages()` and `library()`? Why do you need both? Here's my analogy: 

- `install.packages()` is setting up electricity for your house. Just need to do this once (let's ignore monthly bills). 
- `library()` is turning on the lights. You only turn them on when you need them, otherwise it wouldn't be efficient. And when you quit R, it turns the lights off, but the electricity lines are still there. So when you come back, you'll have to turn them on again with `library()`, but you already have your electricity set up.

You can also install packages by going to the Packages tab in the bottom right pane. You can see the packages that you have installed (listed) and loaded (checkbox). You can also install packages using the install button, or check to see if any of your installed packages have updates available (update button). You can also click on the name of the package to see all the functions inside it — this is a super helpful feature that I use all the time.

## Aesthetic mappings

![](img/rstudio-cheatsheet-ggplot.png)

## push to GitHub

### Your turn

## Common problems

...


### Your turn

## The Layered Grammar of Graphics

## push to GitHub

Explore GitHub; show that your fig has a URL you could share with someone

## end of the day: intro to Markdown (README)?
so they can post a figure on a readme?

## Troubleshooting

